{"ast":null,"code":"import{useCallback}from'react';export const useTTS=()=>{const synthesize=useCallback(async(text,settings)=>{try{const response=await fetch('/api/synthesize',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text,voice:settings.voice,speed:settings.speed,pitch:settings.pitch})});if(!response.ok){throw new Error(`TTS failed: ${response.statusText}`);}const result=await response.json();return result.audioUrl||null;}catch(error){console.error('TTS Error:',error);// For demo purposes, we'll use the browser's built-in speech synthesis\nif('speechSynthesis'in window){return new Promise(resolve=>{const utterance=new SpeechSynthesisUtterance(text);utterance.voice=speechSynthesis.getVoices().find(voice=>voice.name.includes(settings.voice==='male'?'Male':'Female'))||null;utterance.rate=settings.speed;utterance.pitch=settings.pitch;utterance.onend=()=>resolve(null);utterance.onerror=()=>resolve(null);speechSynthesis.speak(utterance);resolve(null);});}return null;}},[]);return{synthesize};};","map":{"version":3,"names":["useCallback","useTTS","synthesize","text","settings","response","fetch","method","headers","body","JSON","stringify","voice","speed","pitch","ok","Error","statusText","result","json","audioUrl","error","console","window","Promise","resolve","utterance","SpeechSynthesisUtterance","speechSynthesis","getVoices","find","name","includes","rate","onend","onerror","speak"],"sources":["/Users/bradohara/solace/solace/task-C/src/hooks/useTTS.ts"],"sourcesContent":["import { useCallback } from 'react';\nimport { VoiceSettings } from '../App';\n\nexport const useTTS = () => {\n  const synthesize = useCallback(async (\n    text: string, \n    settings: VoiceSettings\n  ): Promise<string | null> => {\n    try {\n      const response = await fetch('/api/synthesize', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          text,\n          voice: settings.voice,\n          speed: settings.speed,\n          pitch: settings.pitch\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`TTS failed: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n      return result.audioUrl || null;\n\n    } catch (error) {\n      console.error('TTS Error:', error);\n      \n      // For demo purposes, we'll use the browser's built-in speech synthesis\n      if ('speechSynthesis' in window) {\n        return new Promise((resolve) => {\n          const utterance = new SpeechSynthesisUtterance(text);\n          utterance.voice = speechSynthesis.getVoices().find(\n            voice => voice.name.includes(settings.voice === 'male' ? 'Male' : 'Female')\n          ) || null;\n          utterance.rate = settings.speed;\n          utterance.pitch = settings.pitch;\n          \n          utterance.onend = () => resolve(null);\n          utterance.onerror = () => resolve(null);\n          \n          speechSynthesis.speak(utterance);\n          resolve(null);\n        });\n      }\n      \n      return null;\n    }\n  }, []);\n\n  return { synthesize };\n}; "],"mappings":"AAAA,OAASA,WAAW,KAAQ,OAAO,CAGnC,MAAO,MAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,UAAU,CAAGF,WAAW,CAAC,MAC7BG,IAAY,CACZC,QAAuB,GACI,CAC3B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,iBAAiB,CAAE,CAC9CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBR,IAAI,CACJS,KAAK,CAAER,QAAQ,CAACQ,KAAK,CACrBC,KAAK,CAAET,QAAQ,CAACS,KAAK,CACrBC,KAAK,CAAEV,QAAQ,CAACU,KAClB,CAAC,CACH,CAAC,CAAC,CAEF,GAAI,CAACT,QAAQ,CAACU,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,eAAeX,QAAQ,CAACY,UAAU,EAAE,CAAC,CACvD,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAb,QAAQ,CAACc,IAAI,CAAC,CAAC,CACpC,MAAO,CAAAD,MAAM,CAACE,QAAQ,EAAI,IAAI,CAEhC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,YAAY,CAAEA,KAAK,CAAC,CAElC;AACA,GAAI,iBAAiB,EAAI,CAAAE,MAAM,CAAE,CAC/B,MAAO,IAAI,CAAAC,OAAO,CAAEC,OAAO,EAAK,CAC9B,KAAM,CAAAC,SAAS,CAAG,GAAI,CAAAC,wBAAwB,CAACxB,IAAI,CAAC,CACpDuB,SAAS,CAACd,KAAK,CAAGgB,eAAe,CAACC,SAAS,CAAC,CAAC,CAACC,IAAI,CAChDlB,KAAK,EAAIA,KAAK,CAACmB,IAAI,CAACC,QAAQ,CAAC5B,QAAQ,CAACQ,KAAK,GAAK,MAAM,CAAG,MAAM,CAAG,QAAQ,CAC5E,CAAC,EAAI,IAAI,CACTc,SAAS,CAACO,IAAI,CAAG7B,QAAQ,CAACS,KAAK,CAC/Ba,SAAS,CAACZ,KAAK,CAAGV,QAAQ,CAACU,KAAK,CAEhCY,SAAS,CAACQ,KAAK,CAAG,IAAMT,OAAO,CAAC,IAAI,CAAC,CACrCC,SAAS,CAACS,OAAO,CAAG,IAAMV,OAAO,CAAC,IAAI,CAAC,CAEvCG,eAAe,CAACQ,KAAK,CAACV,SAAS,CAAC,CAChCD,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAAC,CACJ,CAEA,MAAO,KAAI,CACb,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAEvB,UAAW,CAAC,CACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}